const chatBox = document.getElementById("chat-box");
const userInput = document.getElementById("user-input");

// ๐ ุงูุฌุง API Key ุฎูุฏ ุฑุง ุฌุงฺฏุฐุงุฑ ฺฉูุฏ!
const API_KEY = "const chatBox = document.getElementById("chat-box");
const userInput = document.getElementById("user-input");

// ๐ ุงูุฌุง API Key ุฎูุฏ ุฑุง ุฌุงฺฏุฐุงุฑ ฺฉูุฏ!
const API_KEY = "ุงูุฌุง API ุฎูุฏ ุฑุง ุจฺฏุฐุงุฑุฏ"; 
const API_URL = "https://api.openai.com/v1/chat/completions";

function sendMessage() {
    const message = userInput.value.trim();
    if (message === "") return;

    appendMessage("๐ค ุดูุง: " + message, "user");

    fetch(API_URL, {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${API_KEY}`
        },
        ุจุฏู :   ุฌ  .ูุฏู  ุฒุฏู({
            ูุฏู :   "gpt-3.5-turbo",
            ูพุงู :   [{ ููุด :   "ฺฉุงุฑุจุฑ" ,   content :   ูพุงู }]
        })
    })
      .  ุจุนุฏ(ูพุงุณุฎ   =>   {
        ุงฺฏุฑ (!ูพุงุณุฎ.ok) {
            ูพุฑุชุงุจ  ุชุงุฒู  ุงุดุชุจุงู(`ุฎุทุง ุดุจฺฉู: ${ูพุงุณุฎ.ูุถุนุช}`);
        }
        ุจุงุฒฺฏุดุช  ูพุงุณุฎ.ุฌ ุณูู();
    })
      .  ุจุนุฏ(ุฏุงุฏู   =>   {
        ุงฺฏุฑ (ุฏุงุฏู.ุงูุชุฎุงุจ   &&   ุฏุงุฏู.ุงูุชุฎุงุจ.ุทูู   >   0) {
            ูพุงู  ูพูุณุช("๐ค ุฑุจุงุช: "   +   ุฏุงุฏู.ุงูุชุฎุงุจ[0].ูพุงู.content ,   "
        } ุฏฺฏุฑ  {
            ูพุงู  ูพูุณุช("โ ูพุงุณุฎ ูุงูุนุชุจุฑ ุงุฒ ุณุฑูุฑ ุฏุฑุงูุช ุดุฏ." ,   "
        }
    })
      .  ฺฏุฑ ฺฉู(ุงุดุชุจุงู  =>  {
        ฺฉูุณูู.ุงุดุชุจุงู("ุฎุทุง:",  ุงุดุชุจุงู);
        ูพุงู  ูพูุณุช("โ ุฎุทุง ุฏุฑ ุฏุฑุงูุช ูพุงุณุฎ. ูุทูุงู API Key ุฑุง ุจุฑุฑุณ ฺฉูุฏ!",  ");
    });

    ุฏุฑ  ุงู  ูพูุช.ุงุฑุฒุด  =  "";
}

ุนููฺฉุฑุฏ  appendMessage(text,  sender) {
    const ูพุงู ุฑุณุงู  =  ุณูุฏ.createElement(");
 ูพุงู ุฑุณุงู ฺฉูุงุณ.ุงุถุงูู  ฺฉูุฏฺฉูุฏ("
 ูพุงู ุฑุณุงู ูุชู ูุชู  =  ูุชู;
    ฺุช  ุจุงฺฉุณ.ฺฉูุฏฺฉ ุฑุง  ุชุดูู  ู  ฺฉูุฏ(ูพุงู  ุฑุณุงู);
    ฺุช  ุจุงฺฉุณ.ุทููุงุฑ ุชุงูพ  =  ฺุช  ุจุงฺฉุณ.ุทููุงุฑ ูุงุช;
}";  
const ุขูพ  =  "https://api.openai.com/v1/chat/completions";

ุนููฺฉุฑุฏ  sendMessage() {
    const ูพุงู  =  ุฏุฑ  ุงู  ูพูุช.ุงุฑุฒุด.ุณูุ();
    ุงฺฏุฑ (ูพุงู  ===  "") ุจุงุฒฺฏุดุช;

    ูพุงู  ูพูุณุช("๐ค ุดูุง: "  +  ูพุงู,  "ฺฉุงุฑุจุฑ");

    fetch(ุขูพ,  {
        ุฑูุด:  "ูพุณุช",
        ุณุฑ ุณุฑ ุณุฑ: {
            "ููุน ูุญุชูุง":  "App/json",
            "ูุฌูุฒ":  `Bearer ${ุขูพ_ฺฉ}`
        },
        ุจุฏู:  ุฌ  .ูุฏู  ุฒุฏู({
            ูุฏู:  "gpt-3.5-turbo",
            ูพุงู:  [{ ููุด:  "ฺฉุงุฑุจุฑ",  content:  ูพุงู }]
        })
    })
     . ุจุนุฏ(ูพุงุณุฎ  =>  {
const ฺุช ุจุงฺฉุณ   =   ุณูุฏ.getElementById("ฺุช-ุจุงฺฉุณ");ุงฺฏุฑ (!ูพุงุณุฎ.ok) {
ุตูุฑุช ุตูุฑุช ุงุณุชูุงุฏู  ุงุฒ  ุงู  ุงุณุชูุงุฏู ุงุฒ ุงู ูพูู  ุฏุฑ ุงู ูพูุช   =   ุณูุฏ.getElementById("ฺฉุงุฑุจุฑ-input");ุณูุฏ.getElementById("ฺฉุงุฑุจุฑ-input");ูพุฑุชุงุจ  ุชุงุฒู  Error(`ุฎุทุง ุดุจฺฉู: ${ูพุงุณุฎ.ูุถุนุช}`);
        }
// ๐ ุงูุฌุง API Key ุฎูุฏ ุฑุง ุฌุงฺฏุฐุงุฑ ฺฉูุฏ!return response.json();
ุตูุฑุช ุตูุฑุช ุขูพ_ฺฉ  =  "const chatBox = document.getElementById("ฺฏูพ-ุฌุนุจู");})
ุตูุฑุช  ุตูุฑุช ุฏุฑ  ุงู ูพูุช   =   document.getElementById("ฺฉุงุฑุจุฑ-input");ุจุนุฏ(ุฏุงุฏู   =>   {
        ุงฺฏุฑ (ุฏุงุฏู.ุงูุชุฎุงุจ   &&   ุฏุงุฏู.ุงูุชุฎุงุจ.ุทูู   >   0) {
// ๐ ุงูุฌุง API Key ุฎูุฏ ุฑุง ุฌุงฺฏุฐุงุฑ ฺฉูุฏ!appendMessage("๐ค ุฑุจุงุช: " + data.choices[0].message.content, "bot");
const ุขูพ_ฺฉ   =   "ุงูุฌุง API ุฎูุฏ ุฑุง ุจฺฏุฐุงุฑุฏ"  ;    } ุฏฺฏุฑ  {
ุตูุฑุช  ุตูุฑุช API_URLconst ุขูพ   =   "https://api.openai.com/v1/chat/completions";"https://api.openai.com/v1/chat/completions";ูพุงู ูพูุณุช("โ ูพุงุณุฎ ูุงูุนุชุจุฑ ุงุฒ ุณุฑูุฑ ุฏุฑุงูุช ุดุฏ." ,   ");
        }
ุชุงุจุน  ุงุฑุณุงู  ูพุงู () {})
      .  ูพุงู const   =   ุฏุฑ ุงู ูพูุช.ุงุฑุฒุด.ุณูุ() ;   ฺฏุฑ  ฺฉู(ุงุดุชุจุงู   =>   {
 ุงฺฏุฑ.(ูพุงู   ==   ุจุงุฒฺฏุดุชุ ฺฉูุณูู.error(ุจุงุฒฺฏุดุชุ ฺฉูุณูู.error("
 ูพุงู ูพูุณุช ("โ ุฎุทุง ุฏุฑ ุฏุฑุงูุช ูพุงุณุฎ. ูุทูุงู API Key ุฑุง ุจุฑุฑุณ ฺฉูุฏ!",  ");
 ูพุงู ูพูุณุช(" ุดูุง: "  +  ูพุงู,  "ฺฉุงุฑุจุฑ");  (" ุดูุง: "  +  ูพุงู,  "ฺฉุงุฑุจุฑ");  });

 fetch (ุขูพ,  { ุฏุฑ ุงู ูพูุช.ุงุฑุฒุด   =   "";
}

ุนููฺฉุฑุฏ  "ููุน ูุญุชูุง":  "ุงูพ/json".  ูพุงู ูพูุณุช(ูุชู ,   ูุฑุณุชูุฏู) {
 "ูุฌูุฒ": ุฎุฑุณ {ุขูพ_ฺฉ const ูพุงู ุฑุณุงู   =   ุณูุฏ.createElement(");
         },  ูพุงู  .ฺฉูุงุณ.ุงุถุงูู  ฺฉูุฏ("
 ุจุฏู: JSON.ูุฏู ุฒุฏู ({ stringify ({ ูพุงู ุฑุณุงู.ูุชู;
 ูุฏู: "gpt-3.5-turbo".  chatBox.ฺฉูุฏฺฉ ุฑุง ุชุดูู ู ฺฉูุฏ(ุฑุณุงู);
 ูพุงู ูุง.[ููุด   =   ฺฉุงุฑุจุฑ" }) chatBox.scrollTop = chatBox.scrollHeight;
                        }
